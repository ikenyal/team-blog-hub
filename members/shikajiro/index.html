<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon shortcut" type="image/png" href="https://blog.ubie.tech/logo.png"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&amp;display=swap"/><title>shikajiro | Ubie Engineers&#x27; Blogs</title><meta property="og:title" content="shikajiro"/><meta property="og:url" content="https://blog.ubie.tech/members/shikajiro"/><meta name="twitter:card" content="summary_large_image"/><meta property="og:site" content="Ubie Engineers&#x27; Blogs"/><meta property="og:image" content="https://blog.ubie.tech/og.png"/><link rel="canonical" href="https://blog.ubie.tech/members/shikajiro"/><link rel="preload" href="/_next/static/css/5b1e5c056c67d836f701.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5b1e5c056c67d836f701.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-8a83f0fd99327c4684a8.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.1daf1ec1ecf144ee9147.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.8d61253ae98ee51657b8.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-49079e3278dd6cef7229.js" as="script"/><link rel="preload" href="/_next/static/chunks/81b50c7ab23905e464b4340eb234bd6ea389d26b.c57bc19979e4dd2054fe.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/members/%5Bid%5D-f279413a3daf3c18264d.js" as="script"/></head><body><div id="__next"><header class="site-header"><div class="content-wrapper"><div class="site-header__inner"><a class="site-header__logo-link" href="/"><img src="/logo.png" alt="Ubie Engineers&#x27; Blogs" class="site-header__logo-img"/><span class="site-header__logo-text">Ubie<br/>Engineers&#x27; Blogs</span></a><div class="site-header__links"><a href="https://ubie.life/" class="site-header__link" target="_blank">Company</a><a href="https://recruit.ubie.life/jd_dev" class="site-header__link" target="_blank">Recruit</a></div></div></div></header><section class="member"><div class="content-wrapper"><header class="member-header"><div class="member-header__avatar"><img src="/avatars/shikajiro.jpeg" alt="shikajiro" width="100" height="100" class="member-header__avatar-img"/></div><h1 class="member-header__nickname">shikajiro</h1><p class="member-header__real-name">Shinjiro Watanabe</p><p class="member-header__bio">鹿似のエンジニアです。犬が好きです。</p><div class="member-header__links"><a href="https://twitter.com/shikajiro" class="member-header__link"><img src="/icons/twitter.svg" alt="Twitterのユーザー@shikajiro" width="22" height="22"/></a><a href="https://github.com/shikajiro" class="member-header__link"><img src="/icons/github.svg" alt="GitHubのユーザー@shikajiro" width="22" height="22"/></a><a href="https://shikajiro.github.io/" class="member-header__link"><img src="/icons/link.svg" alt="ウェブサイトのリンク" width="22" height="22"/></a></div></header><div class="member-posts-container"><div class="post-list"><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2021-10-01T03:01:11.000Z" class="post-link__date">3 months ago</time></div></a><a href="https://note.com/shikajiro/n/n0b8642b4228a" class="post-link__main-link"><h2 class="post-link__title">スタートアップは本当に崖の上から飛び降りながら飛行機を作ってるのか？</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=note.com" width="14" height="14" class="post-link__site-favicon"/>note.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2021-09-13T09:33:41.000Z" class="post-link__date">3 months ago</time></div></a><a href="https://zenn.dev/shikajiro/articles/e917a64a7e26d0" class="post-link__main-link"><h2 class="post-link__title">DeepLを使ってslackのメッセージをリアクションで翻訳できるbotを作った</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=zenn.dev" width="14" height="14" class="post-link__site-favicon"/>zenn.dev</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2021-08-05T01:52:57.000Z" class="post-link__date">5 months ago</time></div></a><a href="https://note.com/shikajiro/n/n90532a8ef801" class="post-link__main-link"><h2 class="post-link__title">ZOZOテクノロジーズ/ZOZO研究所を退職しました。次は医療xAIスタートアップUbieに行ってきます。</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=note.com" width="14" height="14" class="post-link__site-favicon"/>note.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2021-07-20T08:00:43.000Z" class="post-link__date">5 months ago</time></div></a><a href="https://zenn.dev/shikajiro/articles/11b9e188ce6e94" class="post-link__main-link"><h2 class="post-link__title">専門用語を教えてくれるSlack Botを作った</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=zenn.dev" width="14" height="14" class="post-link__site-favicon"/>zenn.dev</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2021-07-02T11:13:47.000Z" class="post-link__date">6 months ago</time></div></a><a href="https://zenn.dev/shikajiro/articles/2f58c3aa07cdff" class="post-link__main-link"><h2 class="post-link__title">Kotlinでロジックの速度計測する時に便利な関数を作った</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=zenn.dev" width="14" height="14" class="post-link__site-favicon"/>zenn.dev</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2021-04-10T14:57:37.000Z" class="post-link__date">8 months ago</time></div></a><a href="https://qiita.com/shikajiro/items/47cb04ccad6771f4ae5a" class="post-link__main-link"><h2 class="post-link__title">電源OFFのRaspberryPiからセンサーデータを取得するバッチを作る</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2021-02-24T15:59:58.000Z" class="post-link__date">10 months ago</time></div></a><a href="https://qiita.com/shikajiro/items/81dbcfbbafe829033ae3" class="post-link__main-link"><h2 class="post-link__title">RaspberryPiをSMSで起動してみる</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2021-01-02T10:51:18.000Z" class="post-link__date">a year ago</time></div></a><a href="https://qiita.com/shikajiro/items/2771ca15ac55d4e0a036" class="post-link__main-link"><h2 class="post-link__title">RaspberryPi OKdo スターターキット買ってみた</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2019-10-01T16:27:56.000Z" class="post-link__date">2 years ago</time></div></a><a href="https://note.com/shikajiro/n/n27f1d4f56241" class="post-link__main-link"><h2 class="post-link__title">家を買ったはなし</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=note.com" width="14" height="14" class="post-link__site-favicon"/>note.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2018-02-15T06:02:07.000Z" class="post-link__date">4 years ago</time></div></a><a href="https://note.com/shikajiro/n/n18114400fe86" class="post-link__main-link"><h2 class="post-link__title">プレゼンを緊張せず行うためのいくつかの方法</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=note.com" width="14" height="14" class="post-link__site-favicon"/>note.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2017-12-27T14:09:10.000Z" class="post-link__date">4 years ago</time></div></a><a href="https://qiita.com/shikajiro/items/2833f898aa534a71f84b" class="post-link__main-link"><h2 class="post-link__title">RxJava2 の disposable の管理をいともたやすく行うための LifecycleObserver を実装した Delegate 用クラス</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2016-11-06T15:15:23.000Z" class="post-link__date">5 years ago</time></div></a><a href="https://qiita.com/shikajiro/items/ea1479a9cc0337e80ba7" class="post-link__main-link"><h2 class="post-link__title">遠隔のAndroid端末のログをリアルタイムで見たい人生だったので作ってみた。</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2016-11-03T15:23:05.000Z" class="post-link__date">5 years ago</time></div></a><a href="https://qiita.com/shikajiro/items/6bc52c3f4c0b6dcbbfc3" class="post-link__main-link"><h2 class="post-link__title">AndroidのBuildを別マシンで行うスクリプト書いたった</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2016-10-19T12:48:44.000Z" class="post-link__date">5 years ago</time></div></a><a href="https://qiita.com/shikajiro/items/4fe281a2778e5b99d935" class="post-link__main-link"><h2 class="post-link__title">openSTFやってみた</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2016-10-18T01:40:37.000Z" class="post-link__date">5 years ago</time></div></a><a href="https://qiita.com/shikajiro/items/bc1c3f29356ca17297e9" class="post-link__main-link"><h2 class="post-link__title">AndroidのTestまとめ</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2016-04-09T01:28:39.000Z" class="post-link__date">6 years ago</time></div></a><a href="https://qiita.com/shikajiro/items/f57adc76dffb61bc36e3" class="post-link__main-link"><h2 class="post-link__title">CloudTestLabやってみた</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2016-04-08T09:30:57.000Z" class="post-link__date">6 years ago</time></div></a><a href="https://qiita.com/shikajiro/items/329d660f1a457676c450" class="post-link__main-link"><h2 class="post-link__title">LineBotで愛犬「もなかBot」を作ってみた</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2016-03-22T09:16:14.000Z" class="post-link__date">6 years ago</time></div></a><a href="https://qiita.com/shikajiro/items/fbd5235e8f0996c740b9" class="post-link__main-link"><h2 class="post-link__title">androidのdatabindingで &quot;Error:Cannot resolve type for item~&quot;</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2015-02-10T10:19:50.000Z" class="post-link__date">7 years ago</time></div></a><a href="https://qiita.com/shikajiro/items/63200af32b280be48bb5" class="post-link__main-link"><h2 class="post-link__title">AndroidからOAuth2を使ってGoogle SpreadSheetへアクセスする方法</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2014-12-09T08:10:53.000Z" class="post-link__date">7 years ago</time></div></a><a href="https://qiita.com/shikajiro/items/7a4f26cb4c5fff8b2a93" class="post-link__main-link"><h2 class="post-link__title">Deploygateにgradleからアップロードする際に、メッセージをコンソールから指定する</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article><article class="post-link"><a class="post-link__author" href="/members/shikajiro/"><img src="/avatars/shikajiro.jpeg" class="post-link__author-img" width="35" height="35"/><div class="post-link__author-name"><div class="post-link__author-name">shikajiro</div><time dateTime="2014-08-13T16:35:02.000Z" class="post-link__date">7 years ago</time></div></a><a href="https://qiita.com/shikajiro/items/d28bf5eb4c9268f81131" class="post-link__main-link"><h2 class="post-link__title">Androidでのテストで色々悩んだ結果robotiumになった件</h2><div class="post-link__site"><img src="https://www.google.com/s2/favicons?domain=qiita.com" width="14" height="14" class="post-link__site-favicon"/>qiita.com</div></a></article></div></div></div></section><footer class="site-footer"><div class="content-wrapper"><p>© <!-- -->Ubie Discovery</p></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"member":{"id":"shikajiro","nickname":"shikajiro","realName":"Shinjiro Watanabe","bio":"鹿似のエンジニアです。犬が好きです。","avatarSrc":"/avatars/shikajiro.jpeg","sources":["https://note.com/shikajiro/rss","https://zenn.dev/shikajiro/feed","https://qiita.com/shikajiro/feed"],"githubUsername":"shikajiro","twitterUsername":"shikajiro","websiteUrl":"https://shikajiro.github.io/"},"postItems":[{"title":"スタートアップは本当に崖の上から飛び降りながら飛行機を作ってるのか？","contentSnippet":"こんにちはしかじろう(@shikajiro)です。前回の退職記事を書いてから２ヶ月経ちました。有給消化期間は個人で借りていた事務所を閉じるための片付け作業で潰れ、筋肉痛だけが残りました。続きをみる","link":"https://note.com/shikajiro/n/n0b8642b4228a","isoDate":"2021-10-01T03:01:11.000Z","dateMiliSeconds":1633057271000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"DeepLを使ってslackのメッセージをリアクションで翻訳できるbotを作った","contentSnippet":"こんにちはしかじろうです。今月から Ubie Discovery に入社してソフトウェアエンジニアをやってます。Ubie DiscoveryではGlobal事業も展開しており、英語でのコミュニケーションも活発に行なっています。「slackのやりとりが即座に翻訳できると嬉しい」という声があったので、slack botとして作ってみました。https://github.com/shikajiro/deepl-botこのbotはリアクションによる翻訳に機能を絞っています。slackのリアクションでをつけるとbotが翻訳した文章を投稿してくれます。この手のbotはすでにいくつかあ...","link":"https://zenn.dev/shikajiro/articles/e917a64a7e26d0","isoDate":"2021-09-13T09:33:41.000Z","dateMiliSeconds":1631525621000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"ZOZOテクノロジーズ/ZOZO研究所を退職しました。次は医療xAIスタートアップUbieに行ってきます。","contentSnippet":"2021年8月でZOZOテクノロジーズを退職します。2021年8月5日が最終出勤日でした。2018年から３年半ほど在籍したので、プログラマーが退職するときによくある思い出浸りブログをやりたいと思います。だれ続きをみる","link":"https://note.com/shikajiro/n/n90532a8ef801","isoDate":"2021-08-05T01:52:57.000Z","dateMiliSeconds":1628128377000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"専門用語を教えてくれるSlack Botを作った","contentSnippet":"こんにちはしかじろうです。新しい会社や部署に転属すると知らない用語が沢山でてきますよね。業界用語だけでなくその部署だけで使われる言い回しがあったりして、その用語に慣れるだけで一苦労だったりします。用語集をwikiにまとめたりもしますが、テレビ会議などをしながら探すのはなかなか骨が折れる作業で、探してる間に次の話題に進んでいったりしてしまいます。そこで、知らない用語を教えてくれるSlackBotを作ってみました。予め用語を登録しておくことで、slackから簡単に呼び出すことができます。https://github.com/shikajiro/term-slack-bot以下の手...","link":"https://zenn.dev/shikajiro/articles/11b9e188ce6e94","isoDate":"2021-07-20T08:00:43.000Z","dateMiliSeconds":1626768043000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"Kotlinでロジックの速度計測する時に便利な関数を作った","contentSnippet":"しかじろうだよ。みなさん計測してますか。なにかロジックを実装してその速度を計測したい時ありますよね。僕はあります。 一般的な計測方法王道な方法として以下の実装でできます。val start = System.nanoTime()// 計測したい処理execute()val end = System.nanoTime()Log.d(\"Performance\", \"process time ${end - start}\")とりあえずこれで動くのですが、 System.nanoTime() を色んな所で呼ぶのでちょっと煩雑です。もうちょっとスッキリ書けないものでしょう...","link":"https://zenn.dev/shikajiro/articles/2f58c3aa07cdff","isoDate":"2021-07-02T11:13:47.000Z","dateMiliSeconds":1625224427000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"電源OFFのRaspberryPiからセンサーデータを取得するバッチを作る","contentSnippet":"あらすじ前回は4GPiとslee-pi3、SORACOMを組み合わせてRaspberryPiをSMS経由で起動してみました。今回はそれを発展させて、クラウドからSMS起動してそれぞれのRaspberryPiからデータを取得して呼び出し元のクラウドで集計する仕組みを作ってみます。問題4GPiとslee-pi3, SORACOMを組み合わせると電源が切れたRaspberryPiを起動できることは分かりました。実際の現場は数多くのRaspberryPiにセンサー機器を繋げて値を取得することが多いと思いますが、非同期で起動してセンサーデータ送信が行われるため、バッチがセンサーデータをまとめて処理するのは容易ではありません。バッチスクリプトがAPIサーバーも兼ねれば可能かもしれませんが、サーバーレスを考慮すると難しくなります。さらにサーバーレスにした場合、処理が終わるとインスタンスが終了してしまうので集計処理を走らせることが難しくなります。解決案Cloud FunctionとCloud Pub/Subを使って複数のRaspberryPiからセンサーデータを一括で取得する仕組みを作ってみました。今回はGCPを利用していますがAWSやAzureでも似たような構成で問題なく実装できると思います。ポイントは電源が落ちているRaspberryPiから非同期に送られてくるセンサーデータを実行中のバッチシステムで取得する仕組みです。今回はCloud Pub/Subを使うことで実現してみました。構成図処理の流れCloud Function のサーバースクリプト起動SORACOM SMS API 呼び出し4GPi / slee-pi3 を使って RaspberryPi をSMS起動SORACOM Funk にセンサーデータ送信Cloud Pub/Sub にセンサーデータを保存呼び出し元のサーバースクリプトにて集計バッチバッチは可能な限りサーバーレスにしたかったためCloudFunctionで実装しました。SMS通信以外でSORACOM SIMを指した4GPi/slee-pi3をSMS起動するには、IMSIを指定してAPI呼び出しを行う必要があります。バッチではSORACOM APIを利用して各IMSIに対してAPI呼び出しを行っています。IMSIの数が多いことを考慮して並列呼び出しを行っています。X-Soracom-API-Key , X-Soracom-Token は予めTOKENAPIを利用して取得しておき、環境変数に詰めておく必要があります。$ curl -X POST -H \"Content-Type: application/json\" -H \"Accept: application/json\" -d \"{\\\"email\\\": \\\"\u003cログインID\u003e\\\",\\\"password\\\": \\\"\u003cパスワード\u003e\\\"}\" \"https://g.api.soracom.io/v1/auth\"{\"apiKey\": \"hogehoge\", \"token\": \"fugafuga\", ...}$ export SORACOM_API_KEY=\"hogehoge\"$ export SORACOM_TOKEN=\"fugafuga\"IMSIはSORACOMの管理画面から確認できます。IMSIはプログラム内で指定するようにしました。これでCloud FunctionからSMS起動ができます。以下のように実装してみました。IMSI_LIST = [    12345678 # dummy imsi]def start_batch(request: Request):    request_json = request.get_json(silent=True)    print(request_json)    # imsiの数だけ並列で実行する。多すぎる場合は要検討    with ThreadPoolExecutor(max_workers=len(IMSI_LIST)) as executor:        def call_up(imsi):            # SMS APIを呼び出してRaspberryPiを起動            data = {\"body\": \"message\"}            headers = {                \"X-Soracom-API-Key\": os.getenv(\"SORACOM_API_KEY\"),                \"X-Soracom-Token\": os.getenv(\"SORACOM_TOKEN\")            }            res = requests.post(                f\"https://g.api.soracom.io/v1/subscribers/{imsi}/send_sms\",                json=data,                headers=headers            )            print(json.loads(res.content))            return res        features = [executor.submit(call_up, imsi) for imsi in IMSI_LIST]        for feature in features:            print(f\"result:{feature.result()}\")...RaspberryPi次はセンサーデータを送信するRaspberryPi側のコードを見ていきます。SORACOMがあることでサービスに対してかなり疎結合な実装ができます。SORACOM FunkのURLにのみ依存しているので、SORACOM側でAWSに切り替えるだけでクラウドを変更することもできます。SORACOM便利だな・・・今回は温度のダミーデータを送信してみます。import requestsimport randomSORACOM_FUNK_URL = \"http://funk.soracom.io\"def main():    data = {        \"device_id\": \"test_1\",        \"temperature\": random.randint(0, 40)    }    print(data)    res = requests.post(SORACOM_FUNK_URL, json=data)    print(res)    print(res.content)if __name__ == '__main__':    main()SORACOM Funkの設定はSIMグループを作ることで可能になります。センサーデータ受信SORACOM Funkの受け取り側の実装を行います。先程の実行中のバッチ直接データを渡せれば良いですが、実行中のCloud Functionに直接データを渡す事は不可能です。Pub/Sub使って橋渡しさせることで呼び出し元のバッチがデータを取得できるようにしたいと思います。先程のバッチ実装に関数を追加します。Functionで受信したデータをPub/Subのtopicに送信して、呼び出し元のバッチで取得できるようにします。PROJECT_ID = \"hoge\"TOPIC_ID = \"fuga-topic\"def receive_sensor(request: Request):    request_json = request.get_json(silent=True)    print(request.headers)    print(request_json)    publisher = pubsub_v1.PublisherClient()    topic_path = publisher.topic_path(PROJECT_ID, TOPIC_ID)    publisher.publish(topic_path, json.dumps(request_json).encode(\"utf-8\"))    return f'send temperature {request_json}!'バッチでセンサーデータを取得するPub/Subに送信されるデータを呼び出し元のバッチで取得する仕組みを追記していきます。先程のstart_batchにsubscriberの受信処理を追加していきます。RaspberryPiの故障などでデータは必ず送られてくるとは限らないので、ある程度のタイムアウト時間を決めてデータを待ちます。TIMEOUT = 2 * 60PROJECT_ID = \"hoge\"SUBSCRIPTION_ID = \"fuga-subscription\"def start_batch(request: Request):...(先程のバッチ実装の続き)    sensors = []    def callback(message: Message):        print(f\"Received {message}.\")        data = json.loads(message.data.decode(\"utf-8\"))        sensors.append(data)        message.ack()    subscriber = pubsub_v1.SubscriberClient()    subscription_path = subscriber.subscription_path(PROJECT_ID, SUBSCRIPTION_ID)    future = subscriber.subscribe(subscription_path, callback=callback)    with subscriber:        try:            future.result(timeout=TIMEOUT)        except TimeoutError:            future.cancel()    print(mean([sensor[\"temperature\"] for sensor in sensors]))    return json.dumps(sensors)以上で基本的な実装は終了です。デプロイコードができたらデプロイして動かしてみます。以下のようにシェルスクリプトを実行しておくと便利です。poetry export --without-hashes \u003e requirements.txtgcloud functions deploy start-batch \\--entry-point start_batch \\--runtime python37 \\--trigger-http \\--allow-unauthenticatedgcloud functions deploy receive-sensor \\--entry-point receive_sensor \\--runtime python37 \\--trigger-http \\--allow-unauthenticatedrm requirements.txtローカル開発時に役立つダミサーバー起動、ダミー呼び出しスクリプトも作っておくと開発がはかどります。（Github）RaspberryPi側はserviceを作って起動時に自動で実行するようにしておきます。sensor.service ファイルを作って[Unit]Description=SMS Pi Script ServiceAfter=multi-user.target[Service]Type=idleExecStart=/home/pi/start.sh[Install]WantedBy=multi-user.targetサービスとして登録しますsudo cp sensor.service /etc/systemd/system/sudo systemctl enable sensorまとめセンサーデータは実際BigQueryに集約すれば集計しやすいと思いますが、扱う値の取り扱いはプロジェクトや状況により様々です。今回は呼び出し元のバッチが直接センサーデータを扱いたい場合は想定し、Pub/Subなどを駆使することで集計を実現してみました。すべてのソースはGithubに公開しています。この記事では紹介していないスクリプトや構成管理の仕組みも作っているので手元で動かしやすいかもしれません。","link":"https://qiita.com/shikajiro/items/47cb04ccad6771f4ae5a","isoDate":"2021-04-10T14:57:37.000Z","dateMiliSeconds":1618066657000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"RaspberryPiをSMSで起動してみる","contentSnippet":"メカトラックスエバンジェリストのしかじろうです、こんにちは。今回はLTEモジュール4GPiと電源監視モジュールslee-Piで色々遊んでみました。@MechaTracks「しかさん、RaspberryPiはSMSで起動できるんだよ」と聞いてワクワクが止まらないので先人の知恵を借りながら試してみました。概要RaspberryPiに4GPiとslee-Pi3を繋いでSORACOM経由でSMSを送って起動する参考先人の記事を参考にしました。3GPi Ver.2とslee-Pi2を使用して、SMS着信でラズパイ遠隔起動～シャットダウン - Qiita必要機材の紹介RaspberryPi3Buy a Raspberry Pi 3 Model B – Raspberry Piみんな大好きRaspberryPi。最新は4ですが、今回は知見が多い3を使いました。OSは安心と信頼の4GPi用のRaspbianを採用しました。4GPiラズベリーパイ用4G（LTE）通信モジュール「4GPi」 | 製品の紹介4GPiはRaspberryPi用のLTE通信モジュールです。ドッキングするだけで使えます。例えばビニールハウスや倉庫の中など、wifi回線がない場所でもネットに繋げることができます。後述するSoracom Napterを使えばSSHでログインできるので開発が捗ります。slee-Pi3ラズベリーパイ用電源管理/死活監視モジュール「slee-Pi」 | 製品の紹介slee-PiはRaspberryPi用の電源管理・死活監視モジュールです。起動・停止をスケジューリングさせたり、起動サービスが止まったら再起動などができます。使わないときは電気を使わないので省エネにもなるし、システムの死活監視⇒再起動も可能です。4GPiと組み合わせることで、SMS着信で起動もできます。SORACOM IoT SIMSORACOM IoT SIM (カード型 SIM) - IoTデバイス通販 - SORACOM（ソラコム）IoTストアSORACOMはIoT向けの通信プラットフォームです。SMSを使う場合はSMS可のSIMを購入する必要があります。(1敗)SORACOM Napterを使うとRaspberryPiにSSHできるので、RaspberryPiを設置した後も開発・保守ができます。ハードウェアの準備4GPiジャンパピン電源JP1の供給ピンを両方とも抜きます。電源の供給はslee-Piに任せるためです。SMSJP2にジャンパピンを刺します。他と同様にGPIO16を使うので左側と中央をつなげます。これでSMSを着信するようになります。slee-PiジャンパピンSMSJP1に2mmピッチジャンパピンを刺します。4GPiと合わせてGPIO16を使うので左側・中央を繋ぐようにします。ジャンパピンには2.54mmピッチと2mmピッチがあるので、間違えないように購入します(1敗)電源今回は以下の2系統で構成しました。1. Slee-Pi -\u003e RaspberryPi2. 4GPiSlee-Piと4GPi両方に電源を繋ぐ必要があります。RaspberryPiへの給電はSlee-Piが行います。ソフトウェアの準備OSは4GPiが提供している4gpi-buster-lite-20200902.zip を採用しました。（この記事書いてたら4gpi-buster-lite-20210204が出ました）piユーザーのパスワードが raspberry から変更されているので、初期ログイン情報カードを見てログインしてください。ジャンパピンの設定ジャンパピンを変更したので、設定ファイルを書き換えます。sudo nano /etc/default/4gpi## 4GPi settings#...# Power off 4GPi at shutdown#  AUTO_OFF=0: disable auto power off#  AUTO_OFF=1: enable auto power offAUTO_OFF=0# Enable the modem to wake up on ring during standby#  WAKE_ON_RING=0: disable Wake-on-Ring#  WAKE_ON_RING=1: enable Wake-on-Ring (AUTO_OFF=0 is required)WAKE_ON_RING=1# Store SMS at Wake-on-Ring (WAKE_ON_RING=1 is required)#  STORE_SMS_ON_RING=0: do not store the sms#  STORE_SMS_ON_RING=1: store the smsSTORE_SMS_ON_RING=0設定後は再起動を忘れずに。slee-Pi 関連ライブラリ4GPi関連ライブラリはインストールされていますが、slee-Pi関連ライブラリは同梱されてないので追加でインストールします。sudo apt-get updatesudo apt-get install sleepi3-firmware sleepi3-utils sleepi3-monitorSORACOM 接続SORACOMに接続する設定を追加します。sudo nmcli con add type gsm ifname \"*\" con-name soracom apn soracom.io user sora password soraセキュリティファイアーウォールにufwが同梱されています。デフォルトで wwan0とppp0が受信拒否になっています。これだと、SSH接続ができません。検証ということで一旦disableにします。(1敗)sudo ufw disabledisableは再起動するともとに戻るので注意。(1敗)ルーティングRaspberryPiをwifiに繋いでいる場合はルーティングをきちんと設定しないと4GPiがうまく動きません。設定は結構大変なので、とりあえず動かす場合はwifiをoffにするのがおすすめです。開発環境を整えるここまでで、RaspberryPi, 4GPi, slee-Piが起動してSORACOMにも疎通ができています。SORACOMコンソールを確認するとオンラインになっています。SORACOM Napterを使うとLTE通信経由でRaspberryPiにSSH接続できます。RaspberryPiを目的の場所に設置した後も開発できます。SORACOMマジ便利。NapterSORACOM Napter を使うとSIMに対してSSHできるようになります。昔はこれができなくて修正のたびに現地に赴いたり、開発がとても大変でした。理想環境にRaspberryPiを設置して、自宅から開発ができるので、これは本当に便利です。接続したいSIMを選んでオンデマンドリモートアクセスを選択します。アクセス可能時間を選択します。無期限に開きっぱなしにはできないので、接続するたびに時間を決めてアクセスします。セキュリティ的に安心ですね。ポート変更したり、アクセス元IPレンジ変えたりもできます。とりあえず繋ぐ分には無視でOKです。TLSを有効にすれば、httpsサーバーを公開することもできるみたいです。SSHで接続できるようになりました。SORACOM側のportの値は都度変わります。サンプルが表示されますが、userでは接続できないので、piに変更します。ssh -p 36792 pi@1-2-3-4.napter.soracom.ioうまくいくとこんなメッセージがでてきます。🎉SMS起動ここまでで、RaspberryPiの遠隔開発ができるようになりました。しかし、電源が切れていたらどうしようもありません。SMSを送ってRaspberryPiを起動してみます。ただし、スマホのSMSのように誰からでもSMSを遅れるわけではないです。公式サイトにあるように、同じオペレーター配下のSIM同士じゃないと送受信はでき内容です。IoT SIM(plan01s)の SMS 機能を使用する | Getting Started | SORACOM UsersIoT SIM は同じオペレーター配下の SIM 同士で SMS の送信ができます。他のオペレーター配下の SIM や SORACOM 以外の SIM、plan-D などの特定地域向け IoT SIM とは SMS の送受信はできません。slee-Piを使って電源のon/offをやってみます。とりあえずsudo poweroff で電源を落としておきます。SORACOMの画面で該当SIMを選んでSMSを送信します。本文によって受け取ったRaspberryPi側で処理を分岐できますが、今回は適当に入れました。slee-piの赤いLEDが点いてRaspberryPiが起動します🎉起動要因の確認mechatrax/sleepi3-utils を使うと起動要因などを確認できます。poweron : 電源接続が起動要因です。watchdog : ウォッチドッグタイマのタイムアウトによる再起動が起動要因です。alarm : リアルタイムクロックのアラーム発生が起動要因です。switch : プッシュスイッチの押下が起動要因です。extin : 外部入力の検出が起動要因です。ri : RI 信号の検出が起動要因です。restore : 電源復旧の検知が起動要因です。$ sleepi3ctl -g wakeup-flagriSMSの場合はriになるので、うまく動いています！API経由でSMS呼び出し上にも書きましたが、SMSは同じオペレーター配下のSIM同士でしか送受信できないので、利用が限られます。SORACOMではAPIによる呼び出しでSMSを利用することができます。IoT SIM(plan01s)の SMS 機能を使用する | Getting Started | SORACOM UserssoracomのログインIDとパスワードでtokenを取得できます。$ curl -X POST -H \"Content-Type: application/json\" -H \"Accept: application/json\" -d \"{\\\"email\\\": \\\"\u003cログインID\u003e\\\",\\\"password\\\": \\\"\u003cパスワード\u003e\\\"}\" \"https://g.api.soracom.io/v1/auth\"こんな感じで返ってきます。（ほとんど見せれない）取得したapi-key,token SORACOMコンソールで確認できるIMSIを指定して、SMSを送信できます。$ curl -X POST  -H \"content-type:application/json\" -H \"X-Soracom-API-Key: \u003capiKey\u003e\" -H \"X-Soracom-Token: \u003ctoken\u003e\"  -d \"{\\\"body\\\":\\\"\u003cメッセージ\u003e\\\"}\" https://g.api.soracom.io/v1/subscribers/\u003cimsi\u003e/send_smsIMSIはSIMの詳細ページのここにあります。こんな感じでmessageIdが返ってくれば成功です。API化することで、プログラムの中にRaspberryPiの起動を組み込むことが可能になります。まとめRaspberryPiに4GPi,SORACOM,slee-Piを連携させることで、場所・電源・省エネなどの環境の幅が広がりました。次回はこれらを組み合わせて実用的なアプリケーションを作ってみたいと思います。","link":"https://qiita.com/shikajiro/items/81dbcfbbafe829033ae3","isoDate":"2021-02-24T15:59:58.000Z","dateMiliSeconds":1614182398000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"RaspberryPi OKdo スターターキット買ってみた","contentSnippet":"しかだよ。RaspberryPi2B+くらいから触ってなかったので復習も兼ねて最新端末であるRaspberryPi4を買いました。気がつけば- 電源はType-C- micro HDMI ポートが２つになってました。GPUがある程度使えるみたいで、機械学習も結構できるらしい。ケースやケーブルを個別に買うのがめんどいのでセットにしました。買ったのはこちら。（公式サイトより）OKdo Raspberry Pi 4 4Gb Model B Starter Kit - OKdo開封の儀RaspberryPi4 4GBヒートシンクファンHDMIケーブル2本Type-C 電源ケーブルUSBメモリアルミケースSDカードRaspberryPi4は電力使うみたいだけど、AC100V給電なので安定しそう。しかし、ラズパイでヒートシンクつける日が来るとはおもわなかった・・・かなり熱くなるのだろうか。冷えやすいアルミケースに装着。ヒートシンクとCPUクーラーを装着。ほんと、小さいデスクトップマシンのようだ・・・。虹色の画面になって失敗したかと思いきや、しばらくまったら起動しました。勢い余って13インチのポータブルモニターも買ってしまった。","link":"https://qiita.com/shikajiro/items/2771ca15ac55d4e0a036","isoDate":"2021-01-02T10:51:18.000Z","dateMiliSeconds":1609584678000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"家を買ったはなし","contentSnippet":"37歳プログラマが家を買いました。似た境遇の人の参考になれば幸いなのでまとめます。ぼくの家庭続きをみる","link":"https://note.com/shikajiro/n/n27f1d4f56241","isoDate":"2019-10-01T16:27:56.000Z","dateMiliSeconds":1569947276000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"プレゼンを緊張せず行うためのいくつかの方法","contentSnippet":"親愛なる宮崎さんから「しかじろうが聴衆席に居るとプレゼンしやすい」とのお言葉をいただきました。続きをみる","link":"https://note.com/shikajiro/n/n18114400fe86","isoDate":"2018-02-15T06:02:07.000Z","dateMiliSeconds":1518674527000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"RxJava2 の disposable の管理をいともたやすく行うための LifecycleObserver を実装した Delegate 用クラス","contentSnippet":"RxJava での subscribe の管理ってまじ大変ですよね。CompositeDisposable を使うと思うのですが、Activityのソースがその処理ばかりになって読みづらくなりますよね。そこで、KotlinでAndroidのRxJavaをちょっと便利に - Qiita を参考に AutoUnSubscribable を使うと思うのですが、 onResume onPause の呼び出しを忘れがちだったりしますよね。よね。んで最近 Android Architecture Component が出てきて LifecycleObserver を使えばライフサイクルを簡単に管理できるようになりました。これらを組み合わせて、RxJava2 の disposable の管理をいともたやすく行うための LifecycleObserver を実装した Delegate 用クラスを作りました。RxJava2慣れてなくて自信が無いのでだれかなじってください。修正すると思うので gist の方を信じてください。RxJava2LifecycleObserver.kt/* Interface is necessary for Delegate */interface RxJava2LifecycleDelegate {  fun Disposable.autoDispose(): Disposable  fun Lifecycle.setupRxJava2Observer(func: () -\u003e Unit)}/* Class for Delegate implementing LifecycleObserver */class RxJava2LifecycleDelegateImpl : RxJava2LifecycleDelegate {  private var composite = CompositeDisposable()  /**   * Extension function for registering LifecycleObserver and subscribe method   * @func: This lambda calls subscription processing   */  override fun Lifecycle.setupRxJava2Observer(func: () -\u003e Unit) {    addObserver(RxJava2LifecycleObserver(composite, func))  }  private fun check() {    if (composite.isDisposed) {      composite = CompositeDisposable()    }  }  /* Extension function for composite management of Disposable  */  override fun Disposable.autoDispose(): Disposable {    check()    composite.add(this)    return this  }}class RxJava2LifecycleObserver(private val composite: CompositeDisposable,                               private val subscribeCallback: () -\u003e Unit)  : LifecycleObserver {  /* It is automatically called at onResume timing and sets up subscription processing. */  @OnLifecycleEvent(Lifecycle.Event.ON_START)  fun subscribe() {    subscribeCallback()  }  /* It is automatically called at the timing of onPause and releases subscription processing. */  @OnLifecycleEvent(Lifecycle.Event.ON_STOP)  fun dispose() {    composite.dispose()  }}上記のクラスを使った実装例/* Example Implementation */class ExampleActivity : AppCompatActivity(), RxJava2LifecycleDelegate by RxJava2LifecycleDelegateImpl() {  override fun onCreate(savedInstanceState: Bundle?) {    ...    // Register the Observer to subscribe onResume and dispose with onPause    lifecycle. setupRxJava2Observer(this::subscribes)  }  /* subscribe method */  private fun subscribes() {    //subscribe example    vm.progress.subscribe {      if (it) showProgress() else dismissProgress()    }.autoDispose() //Monitor disposable   ...  }}","link":"https://qiita.com/shikajiro/items/2833f898aa534a71f84b","isoDate":"2017-12-27T14:09:10.000Z","dateMiliSeconds":1514383750000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"遠隔のAndroid端末のログをリアルタイムで見たい人生だったので作ってみた。","contentSnippet":"結論できた。問題遠隔にあるAndroidにインストールされた開発中のアプリのログを見たい。例* 開発中のアプリを使ってた時のログを後で見たい* GPSの取得具合を見たい* アプリ内で定期的に実行されるタスクのログを忘れずに確認したい* など例に賛同できなかったとしても、僕は見たい。解決案解決案1google analytics とかでできそうだけど、あれは基本ユーザーが操作したことを保存する用だと思ってる。クリックとか。解決案2deploygateのログ機能がほしいものに近い。けど、過去ログは見れない。あと、月3,000円払う経済力が無い。解決案3Fabricなどのクラッシュレポートも近い。普段クラッシュ情報だけではなくExceptionが発生したときもFabricに送ったりしている。でもそうじゃなくて、もっと日常的なログをぶわーっと見たい。解決案4coolなAndroidエンジニア集団が居るcookpadさんもログツール作ってた。cookpad/puree-android: A log collector for Android使ってないんだけど、なんかちょっと設定が大変そうなのと、ログクラスを別途作ったりしなきゃいけなさそうな感じがした。ログというより、google analyticsに近い感じがした。解決案５作った。shikajiro/android_stackdriver_log: Android of the log is a project to be able to display in StackDriver of GCPandroid_stackdriver_logこれは ログをGCMで送り、自前サーバーがその情報を受け取り、GCPのStackDriver に送るというもの。Android -\u003e GCM -\u003e android_stackdriver_log(XMPP) -\u003e StackDriver みたいな流れです。準備する流れをざっくりgithubのreadmeに書いてますので基本はそちらを御覧ください。1.android_stackdriver_log を docker でdeployする。（GCPでしか動作確認してません）2.AndroidのログをGCMで送信する仕組みを作る。（きっとみんなTimberなどを使っていることを祈る）3.StackDriverにログが流れ出てくるのを見て（・∀・）ﾆﾔﾆﾔする。なんかあったらコメントどうぞー","link":"https://qiita.com/shikajiro/items/ea1479a9cc0337e80ba7","isoDate":"2016-11-06T15:15:23.000Z","dateMiliSeconds":1478445323000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"AndroidのBuildを別マシンで行うスクリプト書いたった","contentSnippet":"追加2017-06-21 これを使ったほうがcoolです。 gojuno/mainframer: Tool for remote builds. Sync project to remote machine, execute command, sync back.2016-11-21 23:44 テストに対応2016-11-14 13:12 クラウドでの実行方法追記この記事を３行でAndroidはビルドが重い。CPU100%なので開発マシンがその間使えない。別のマシンでビルドする。問題遅い、遅い、AndroidStudioのビルドが、遅い。とりあえずビルドを始めるとこうなる。これが、これくらい続くこの間はAndroidStudioでコード入力も出来ない。ブラウジングもできない。本を読むしか無い。お陰で積ん読が減った。でも納期はやってくる。ビルドが重いのは仕方ない。そこはもうGoogleに任せるしか無い。せめて、ビルドしてる間他のソース読んだりコメント書いたりブラウジングしたりその時間だけでも確保したい。ここではビルドを高速化するのではなくビルド中に開発マシンのCPUリソースを食いつぶすのを防ぐことに着目してみました。重い原因kotlinによる開発Dagger2, DBFlow などのソースコード自動生成ツールProGuardによる難読化とか共通モジュール参照などなど色んな事が重なって日に日にビルドが重くなってきた。んだと思う。対策1 有志によるAndroidStudioPluginを使うAndroid Studioでのビルドをクラウドで行い開発を高速化する - Unyablog.大人気のこの記事で解決するやんけ！ で試してみたけど、AndroidStudio 2.2 ではもう動かなくなってた・・・。ちょっといじれば2.2でも使えるかな？と思ったけど、全然わからなかった・・・。対策2 速くならなくてもいいので開発マシンが専有されないようにするでもこの仕組み、無理にAndroidStudioでやらなくてもシェルでいいよなぁ。pythonのfabricでいいよなぁと思ったので作ってみた。また、お金かかるのでクラウドじゃなくて、mac mini が余ってたのでそれでビルドするようにしました。手元のPCで動かすスクリプト書いたよ！https://gist.github.com/shikajiro/90cdbdac652cf37a563840d812d73c5bクラウドで動かす@sys1yagi さんが Googleのクラウド GCE で構築したみたいです。ｵﾇﾇﾒAndroidアプリケーションをGoogle Compute Engineのインスタンスでビルドするインストール1.プロジェクトのルートディレクトリに上のスクリプトファイルを置く2.ビルドする別マシンのipaddressとか設定する。3.ビルドするアプリのmodule名、flavor名、debugか否かを設定する。4.別マシンでもビルドができる環境を作る5-1.$ fab build でいつものビルドのように動作する。コンパイル、インストールが終わればActivityが起動する。5-2.$ fab test で、テストもできる。結果はブラウザに表示される。 $ fab android_test,$ fab test_all もできます。スクリプトの流れ1.開発中のコードを空いている別マシンにコピーする。2.別マシンでビルドする。3.別マシンからビルドしたapkを持ってきてインストールする。4.アプリを起動する。計測結果普通のビルドより余計にかかる時間を計測しました。環境場所回線室内環境自宅 開発マシン光回線ルータ -\u003e wifi -\u003e マシン事務所 別マシン光回線ルータ -\u003e wifi -\u003e マシン実行時間ソースコードの同期・・・2秒超 （変更したテキストファイル３つ）apkファイルのダウンロード・・・12秒超 （8MB）ビルド時間が分超えるなら許容範囲だと思います。次はLTEでのテザリングで試しました。環境場所回線室内環境カフェ 開発マシンLTEAndroid -\u003e テザリング -\u003e マシン事務所 別マシン光回線ルータ -\u003e wifi -\u003e マシン実行時間ソースコードの同期・・・3秒超 （変更したテキストファイル３つ）apkファイルのダウンロード・・・33秒超 （8MB）やっぱりapkのダウンロードが遅い。速さを求めるなら控えたほうが良さそうですね。でも、出先でバッテリー使わないのはすごく良い！！","link":"https://qiita.com/shikajiro/items/6bc52c3f4c0b6dcbbfc3","isoDate":"2016-11-03T15:23:05.000Z","dateMiliSeconds":1478186585000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"openSTFやってみた","contentSnippet":"はじめに有り余るAndroid実機を一元管理できるようになるOpenSTFやってみました。https://github.com/openstf/stfインストールは説明するほど難しくないので全カットグローバルで使えるようにする--public-ip にグローバルIPを指定します。残念なことに、これをやるとローカルネットワークから使えなくなっちゃう・・・。stf local --public-ip 216.58.221.14※216.58.221.14 はサンプルです。各自準備したglobal ip をご利用ください。basic認証をかける基本の状態では認証がありません。ザルです。せめてものbasic認証をかけます。--auth-options を使えばbasic認証がかけれます。stf local --public-ip 216.58.221.14 --auth-options '[\"--use-basic-auth\", \"--basic-auth-username\", \"username\", \"--basic-auth-password\", \"password\"]'","link":"https://qiita.com/shikajiro/items/4fe281a2778e5b99d935","isoDate":"2016-10-19T12:48:44.000Z","dateMiliSeconds":1476881324000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"AndroidのTestまとめ","contentSnippet":"※この記事は2016-08-10に書いた自分のブログからの移行です追記2016/10/19 static methodのテストはじめにこの記事をまとめるにあたってBest Practices for Testing | Android Developers を主に参考にしています。Androidのテストは大きく分けて Unit test と UI test の２種類があり、実装方法や対象などで分けると5種類ある。ジャンルテストの種類Androidへの依存主に利用するツール特徴Unit Testlocal unit TestなしMockitojava VMで動作するinstrumentation TestありhamcrestAndroid上で動作する。 Context, SharedPreference, Parcelable を利用したテストができるApp Component TestありServiceなどのテストUI Testsingle app Testありespresso実質Android5以上の端末で動作multi app Testありuiautomatorv18以上。local unit testandroid framework に依存しないテスト。java vm で実行されるため、他のAndroidOSに依存するテストに比べて高速。android.jar は実際のコードが存在しないため、例外をスローしてしまう。そのため、以下の対応をする必要がある。Mockito で代替となるモックの処理を実装するテスト対象を android.jar に依存しないコードにがんばってするMockitoで処理する場合unitTests.returnDefaultValues = true を設定し、android.jarの中を呼んだ場合に、例外ではなくデフォルト値を返すようにする。Mockitoでモックを実装する#build.gradleandroid{    testOptions {        unitTests.returnDefaultValues = true    }}kotlinでMockitoMockitoがkotlinの予約語を使っているので、バッククォートが入ってちょっと書きづらいMockito.`when`()nhaarman/mockito-kotlin のwhenever()を使えばいい感じに出来そうだったけど、引数がnullを許容していないので使いづらい。fun \u003cT\u003e whenever(methodCall: T?) = Mockito.`when`(methodCall)こんな感じで定義し直せばそれっぽく使える。static methodのテストmockitoだけではできないのでpowermockを使います。build.gradledependencies {//    testCompile 'org.mockito:mockito-all:1.10.19'    testCompile 'org.powermock:powermock-module-junit4:1.6.2'    testCompile 'org.powermock:powermock-api-mockito:1.6.2'}テストランナーとか以下みたいな感じにします。@RunWith(PowerMockRunner::class)@PrepareForTest(Uri::class)class HogeTest {    @Mock    lateinit var uri: Uri    @Test    fun test(){        PowerMockito.mockStatic(Uri::class.java)        whenever(Uri.parse(\"http://example.com\")).thenReturn(uri)    }}instrumentation testandroid framework に依存したテスト。Android のエミュレータや実機 で実行される直ぐにテストを実行できない問題にはまるAndroid Studio の右クリック \u003e Run すると、JUnitテストとして動いてしまい、 Empty test suite. とエラーになりテストできない。以下の雛形を元に Android Testとしてビルド設定を作り実行するとちゃんと動く。single app for espresso後で書くmulti app for uiautomator後で書くTipsandroid library のテストで 64k 問題にはまるテストと直接関係ない話だけど、テストライブラリとか追加してたらはまった。デバッグビルドの時だけ、multidexにする。android{     buildTypes {        debug{            multiDexEnabled true        }    }}dependencies {    debugCompile 'com.android.support:multidex:1.0.1'}DaggerによるDI差し替え以下の記事が素敵です。現実世界でのAndroid + Dagger2によるテスト","link":"https://qiita.com/shikajiro/items/bc1c3f29356ca17297e9","isoDate":"2016-10-18T01:40:37.000Z","dateMiliSeconds":1476754837000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"CloudTestLabやってみた","contentSnippet":"気がついたら正式リリースしてた。Cloud Test Lab  |  Google Developersより多くの端末でのテストは要望が多いのでやってみよう。料金しばらく無料Pricing Details Coming Soon  |  Cloud Test Lab  |  Google DevelopersAlthough it is temporarily available to use at no charge, a billing account is still required to use Cloud Test Lab.AndroidStudioからの実行Getting Started with Testing | Android Developersこの通りにやれば動く。はず。でも、studio.vmoptionsに記述しても Cloud Test Lab Device Matrix. が選択できなかった。以前AndroidStudioの動作を軽くしようと試みた時に、pluginを無効化してたのが問題だった。ココらへんのチェックも確認しよう。実行ボタン押したら普通に動いた。すごいね。webにも結果が出た。便利。すごい便利。Terminalからの実行ここを見よう。gcloud components update betaRoboでざっくりテストできるgcloud beta test android run...に --type robo を指定すると、なんか適当にテストしてくれるみたい。モンキーテストってやつかな。テストコードが出来るまではコレを定期的に動かすと良さそう。便利。特定のタイミングでスクリーンショットを撮るTake screenshots from instrumentation testsスクリーンショットしたいタイミングで以下みたいなコードを書く。ScreenShotter.takeScreenshot(\"main_screen_2\", mActivityRule.getActivity());qiitaにまとめる程でもないけど、まぁこんな感じだった。jenkinsと統合して定期的に呼べるようにしたい。","link":"https://qiita.com/shikajiro/items/f57adc76dffb61bc36e3","isoDate":"2016-04-09T01:28:39.000Z","dateMiliSeconds":1460165319000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"LineBotで愛犬「もなかBot」を作ってみた","contentSnippet":"LineBotやってみました。お金が惜しいのでGAEで構築しました。JavaはしんどいのでPython/Flask使いました。GCPでプロジェクト生成はじめての方は、ぐぐると出てきます。app.yamlの準備ソースはこんな感じ。app.yamlruntime: python27api_version: 1threadsafe: yes- url: .*  # This regex directs all routes to main.app  script: main.applibraries:- name: ssl  version: latest最初、sslのライブラリを追加してなくて嵌まりました。callbackの実装ユーザーがBotに対して喋ったりすると、callbackで指定したAPIが呼ばれます。callbackの中でLineのAPI呼んでテキストや写真を送る感じです。callbackの設定などはマニュアルや他のqiitaをご参照ください。ソースはこんな感じ。main.py# -*- coding: utf-8 -*-import logging, randomimport requestsfrom flask import Flask, request,Responseapp = Flask(__name__)app.config.from_object(__name__)app.logger.setLevel(logging.DEBUG)LINE_ENDPOINT = \"https://trialbot-api.line.me\"HEADERS = {    \"X-Line-ChannelID\": \"\u003cBasincInformation参照\u003e\",    \"X-Line-ChannelSecret\": \"\u003cBasincInformation参照\u003e\",    \"X-Line-Trusted-User-With-ACL\": \"\u003cBasincInformation参照\u003e\"}# 固定で返すメッセージ群TALKS = [    \"わんわん！ごはんよこせ！！\",    \"うんこ・・・したい・・・・\",    \"しっこ！しっこ！\",    \"飼い主どこ行ったのかな\",    \"しのとも〜〜〜\",    \"んぐ〜んぐ〜〜\",    \"へっへっへっへっへっへっ\",    \"Uo･ｪ･oU\",    \"ペロペロペロペロ\",    \"かいぬしの手をペロペロしたいなぁ\",    \"ごはん落ちてないかな\",    \"すやすやすやすや\",    \"おらおらー！\",    \"ダンス！ダンスダンス！！\"]# 画像群IMAGES = [    {\"origin\": \"https://storage.googleapis.com/linebot-1275.appspot.com/monaka1.jpg\",     \"thumb\": \"https://storage.googleapis.com/linebot-1275.appspot.com/monaka1thum.jpg\"}]@app.route(\"/\")def hello():    return \"line bot api\"@app.route(\"/callback\", methods=[\"POST\"])def callback():    # TODO Signature validation    app.logger.info(request.json)    app.logger.info(request.headers)    req = request.json[\"result\"][0]    if req[\"eventType\"] == \"138311609100106403\":        \"\"\"        友だち申請の受信はここに来る。        申請されたらすぐお礼メッセージを送る。        TODO 未検証        \"\"\"        send_text([req[\"from\"]], u\"もなかだよ。友だち申請ありがとわん。\")    elif req[\"eventType\"] == \"138311609000106303\":        \"\"\"        会話メッセージを受信したらここに来る。        「もなか」と声をかけると写真とメッセージを返す。        それ以外は準備したテキストをランダムで返す。        \"\"\"        to = [req[\"content\"][\"from\"]]        if req[\"content\"][\"text\"] == u\"もなか\":            # 写真送付            i = random.randint(0, len(IMAGES) - 1)            send_picture(to, IMAGES[i])            send_text(to, \"よんだー？\")        else:            # メッセージ送信            i = random.randint(0, len(TALKS) - 1)            send_text(to, TALKS[i])    # 戻り値は200固定    return Response(status=200)def send_text(to, text):    \"\"\"    toに対してテキストを送る    \"\"\"    content = {        \"contentType\": 1,        \"toType\": 1,        \"text\": text    }    events(to, content)def send_picture(to, img):    \"\"\"    toに対して画像を送る    \"\"\"    content = {        \"contentType\": 2,        \"toType\": 1,        \"originalContentUrl\": img[\"origin\"],        \"previewImageUrl\": img[\"thumb\"]    }    events(to, content)def events(to, content):    \"\"\"    toに対してデータ(テキスト・画像・動画)を送る    \"\"\"    app.logger.info(content)    data = {        \"to\": to,        \"toChannel\": \"1383378250\",        \"eventType\": \"138311608800106203\",        \"content\": content    }    r = requests.post(LINE_ENDPOINT + \"/v1/events\", json=data, headers=HEADERS)    app.logger.info(r.text)staticIPAddressの設定サーバーがホワイトリスト制になっているので、IPAddressを設定しないとLineのサーバーはエラーを返します。しかしGAEなので固定IPAddressはありません。試しにアクセスしたら 403 エラーになり、以下のメッセージが表示されました。{\"statusCode\":\"427\",\"statusMessage\":\"Your ip address [107.178.194.118] is not allowed to access this API.\"}というわけで、このIPAddressを追加して動かすと{\"statusCode\":\"427\",\"statusMessage\":\"Your ip address [107.178.194.122, 10.128.141.149] is not allowed to access this API.\"}次は内部IPAddressらしきものも設定しろよと出てきたので素直に設定します。これで動きました。いつかIPAddressが変わって動かなくなる可能性が高いです。解決方法は未来の僕に委ねたいと思います。フレンド申請するQRコードから出来るようです。（分からなくてずっと苦しんだ）今回の僕の愛犬「もなかBot」はから追加できます。","link":"https://qiita.com/shikajiro/items/329d660f1a457676c450","isoDate":"2016-04-08T09:30:57.000Z","dateMiliSeconds":1460107857000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"androidのdatabindingで \"Error:Cannot resolve type for item~\"","contentSnippet":"こんなエラーがででビルドに失敗する。ついでに他のdatabindingのエラーもでる。ややこしい。Error:Cannot resolve type for item~なんやitem~って。どうやら、databindingさせるレイアウトファイルのvariableのnameの書き方でbuild時にエラーになることがある。hoge.xml\u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e\u003clayout xmlns:android=\"http://schemas.android.com/apk/res/android\"        xmlns:tools=\"http://schemas.android.com/tools\"\u003e    \u003cdata\u003e        \u003cvariable            name=\"item\"            type=\"jp.shikajiro.HogeDto\"/\u003e    \u003c/data\u003e...variableのnameを\"item\"にするとだめっぽい。適当に他のにしよう。typeの指定が間違ってる（存在しないクラスなど）と起きる模様。ただし、どのファイルでエラーかはメッセージは出てこないので自力で探すしかない。hoge.xml    \u003cdata\u003e        \u003cvariable            name=\"dto\"            type=\"jp.shikajiro.HogeDto\"/\u003e    \u003c/data\u003e","link":"https://qiita.com/shikajiro/items/fbd5235e8f0996c740b9","isoDate":"2016-03-22T09:16:14.000Z","dateMiliSeconds":1458638174000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"AndroidからOAuth2を使ってGoogle SpreadSheetへアクセスする方法","contentSnippet":"SpreadSheetなどのGoogle Docsへのアクセスの情報は、新旧入り乱れてカオスになってます。現時点では以下の流れが一番シンプルにできますた。MainActivity.java        //※ここにユーザーアカウント選択画面があると素敵だと思います。        //oauth tokenの取得        String token;        try {            token = GoogleAuthUtil.getToken(this, \"shikajiro@gmail.com\", \"oauth2:https://spreadsheets.google.com/feeds\");            Log.i(\"TAG\", token);        } catch (UserRecoverableAuthException e) {            //最初のアクセスの場合かならずここに来る。            //ユーザーに承認を求める画面が表示される。            startActivityForResult(e.getIntent(), USER_RECOVERABLE_AUTH);            return;        }catch (IOException | GoogleAuthException e) {            Log.e(\"TAG\", \"\", e);            return;        }        //Spreadsheetへアクセスするサービス        SpreadsheetService service = new SpreadsheetService(\"applicationName\");        service.setProtocolVersion(SpreadsheetService.Versions.V3);        service.setAuthSubToken(token);//tokenを設定        //プライベート権限のシート全てにアクセスして、とりあえずタイトル表示する。        try {            URL url = new URL(\"https://spreadsheets.google.com/feeds/spreadsheets/private/full\");            SpreadsheetFeed spreadsheetFeed = service.getFeed(url, SpreadsheetFeed.class);            Log.i(\"TAG\", spreadsheetFeed.getTitle().getPlainText());            for (SpreadsheetEntry entry : spreadsheetFeed.getEntries()) {                Log.i(\"TAG\", entry.getTitle().getPlainText());            }        } catch (IOException | ServiceException e) {            Log.e(\"TAG\", \"\", e);        }    }    @OnActivityResult(USER_RECOVERABLE_AUTH)    void onResult(){        callOauthToken();    }AndroidAnnotationを利用して書いています。雰囲気で読んでください。https://console.developers.google.com/projectで以下みたいなクライアントIDも作っておく必要があるかもしれない。ないかもしれない。","link":"https://qiita.com/shikajiro/items/63200af32b280be48bb5","isoDate":"2015-02-10T10:19:50.000Z","dateMiliSeconds":1423563590000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"Deploygateにgradleからアップロードする際に、メッセージをコンソールから指定する","contentSnippet":"Gradle徹底入門 次世代ビルドツールによる自動化基盤の構築を読んでたら、やっとgradleのプロジェクトに引数渡す方法が分かった。（gradleのヘルプ読め）build.gradledeploygate {    userName = \"shikajiro\"    token = \"hogehoge\"    apks {        release {            sourceFile = file(\"build/outputs/apk/app-release.apk\")            message = deploygateMsg        }        debug {            sourceFile = file(\"build/outputs/apk/app-debug.apk\")            message = deploygateMsg        }    }}deploygateMsg を変数として扱う感じですね。ただ、これだけだとsyncとかbuildすると「deploygateMsgなんてねぇよ」エラーがでちゃう。とりあえずプロパティに空定義しておく。gradle.propertiesdeploygateMsgあとはコマンドで実行。./gradlew uploadDeployGate -PdeploygateMsg=\"ここにメッセージ\"動いた！","link":"https://qiita.com/shikajiro/items/7a4f26cb4c5fff8b2a93","isoDate":"2014-12-09T08:10:53.000Z","dateMiliSeconds":1418112653000,"authorName":"shikajiro","authorId":"shikajiro"},{"title":"Androidでのテストで色々悩んだ結果robotiumになった件","contentSnippet":"鹿だよ。Androidの自動化テストで以下のフレームワークを試してみました。そのレポです。Espresso 1.1Robolectric 2.3robotium 5.2.1結果いきなり結果ですが、老舗のRobotiumを選びました。残りの２つは不安定だったり、よくわかんなかったりで諦めました。EspressoGoogle I/O 2013 で発表されてたので、最近のトレンドは Espresso なのかなーと思って最初に手を出しました。よく見たらコミットが今年の１月で止まってる・・・。これはもう破棄されてるね・・・。Changes - android-test-kit - Google's Testing Tools For Android - Google Project Hosting使えなかったところActivityを跨いだ画面遷移のテストの結果がすごく不安定だった。OKだったりNGだったり。public void testSayHello() {  //このclickで画面遷移すると仮定する。  onView(withId(R.id.greet_button))    .perform(click());  //遷移後の画面に\"Hello Steve!\"が表示されるが、このassertはOKだったりNGだったりする。  onView(withText(\"Hello Steve!\"))    .check(matches(isDisplayed()));}Robolectricこっちは頻繁に更新されてるし、googleの検索結果も多いので安心感があります。使えなかったところ基本的に Robolectric はgradleから使えない（または使いにくい）。でも、robolectricのチームがgradleのpluginを作ってくれてて、使いやすくなってる。robolectric/robolectric-gradle-pluginここまではいいのだけど、ちょいちょいバグがあって、なかなか動かすところまで行かない。動くようになっても、小難しいテストをやろうとするとノウハウが見つからないことが多い。applicationIdSuffix バグgradleを使ってるならbuildTypes {  debug{    applicationIdSuffix \".debug\"  }}とかして、debug用のパッケージを作ってたりすると思うけど、これが起因のバグがあって動かすことができなかった。リソースが見つからない上記の状態で実行するとNotFoundException: no such label string/app_labelとなってしまう。ちゃん app/build/intermediates/res/debug/values にあるのに。うーん。。。マルチスレッドのテストができないマルチスレッドの同期がどうしてもできなかった。    //クリックすると非同期処理が始まる    clickOn(view);    //ちょっとまってくれる(願望)    Robolectric.runUiThreadTasksIncludingDelayedTasks()     //非同期処理終了後、ダイアログが表示されるはずなので取得する。    AlertDialog alert = ShadowAlertDialog.getLatestAlertDialog();    //だが、この時点でalertはnull    assertNotNull(alert);たぶん、もうちょっと勉強したら動くような気がするけど、時間は永遠ではないのでしばらく放置することに。robotiumAndroid界隈では老舗のテストフレームワーク。アップデートも定期的に行われてる。説明書きが何故かpdfという、ちょっとクレイジーな運用方針だ。良かったところ画面遷移テストは安定してて、非同期テストもちゃんと動く。記法はEspressoより書きにくいけど、ActivityInstrumentationTestCase2 より書きやすくなっている。コード量は今回挙げたフレームワークの中で一番少なくなりそう。画面遷移のテストわずか２行でできた。やばい。public void testTerm(){    //viewのクリック処理    solo.clickOnView(mActivity.findViewById(R.id.termView));    //新規に開いたActivityと一致するか    solo.assertCurrentActivity(\"利用規約画面\", TermWebActivity_.class);}というわけで、Robotiumでがんばります。","link":"https://qiita.com/shikajiro/items/d28bf5eb4c9268f81131","isoDate":"2014-08-13T16:35:02.000Z","dateMiliSeconds":1407947702000,"authorName":"shikajiro","authorId":"shikajiro"}]},"__N_SSG":true},"page":"/members/[id]","query":{"id":"shikajiro"},"buildId":"VXKhR6C2TRqyTiAye-0b4","nextExport":false,"isFallback":false,"gsp":true,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["link",{"rel":"icon shortcut","type":"image/png","href":"https://blog.ubie.tech/logo.png"}],["link",{"rel":"stylesheet","href":"https://fonts.googleapis.com/css2?family=Inter:wght@400;700\u0026display=swap"}],["title",{"children":"shikajiro | Ubie Engineers' Blogs"}],["meta",{"property":"og:title","content":"shikajiro"}],["meta",{"property":"og:url","content":"https://blog.ubie.tech/members/shikajiro"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"property":"og:site","content":"Ubie Engineers' Blogs"}],["meta",{"property":"og:image","content":"https://blog.ubie.tech/og.png"}],["link",{"rel":"canonical","href":"https://blog.ubie.tech/members/shikajiro"}]]}</script><script nomodule="" src="/_next/static/chunks/polyfills-fa276ba060a4a8ac7eef.js"></script><script src="/_next/static/chunks/main-8a83f0fd99327c4684a8.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.1daf1ec1ecf144ee9147.js" async=""></script><script src="/_next/static/chunks/commons.8d61253ae98ee51657b8.js" async=""></script><script src="/_next/static/chunks/pages/_app-49079e3278dd6cef7229.js" async=""></script><script src="/_next/static/chunks/81b50c7ab23905e464b4340eb234bd6ea389d26b.c57bc19979e4dd2054fe.js" async=""></script><script src="/_next/static/chunks/pages/members/%5Bid%5D-f279413a3daf3c18264d.js" async=""></script><script src="/_next/static/VXKhR6C2TRqyTiAye-0b4/_buildManifest.js" async=""></script><script src="/_next/static/VXKhR6C2TRqyTiAye-0b4/_ssgManifest.js" async=""></script></body></html>